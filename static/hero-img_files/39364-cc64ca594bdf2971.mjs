"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39364],{560053:(e,t)=>{/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<i(o,t))e[n]=t,e[r]=o,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,u=e[a],c=a+1,l=e[c];if(0>i(u,r))c<o&&0>i(l,u)?(e[n]=l,e[c]=r,n=c):(e[n]=u,e[a]=r,n=a);else if(c<o&&0>i(l,r))e[n]=l,e[c]=r,n=c;else break}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s,a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var l=[],d=[],p=1,_=null,f=3,y=!1,E=!1,m=!1,R="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null;function I(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else if(t.startTime<=e)o(d),t.sortIndex=t.expirationTime,r(l,t);else break;t=n(d)}}function g(e){if(m=!1,I(e),!E){if(null!==n(l))E=!0,B(A);else{var t=n(d);null!==t&&F(g,t.startTime-e)}}}function A(e,r){E=!1,m&&(m=!1,b(h),h=-1),y=!0;var i=f;try{for(I(r),_=n(l);null!==_&&(!(_.expirationTime>r)||e&&!N());){var s=_.callback;if("function"==typeof s){_.callback=null,f=_.priorityLevel;var a=s(_.expirationTime<=r);r=t.unstable_now(),"function"==typeof a?_.callback=a:_===n(l)&&o(l),I(r)}else o(l);_=n(l)}if(null!==_)var u=!0;else{var c=n(d);null!==c&&F(g,c.startTime-r),u=!1}return u}finally{_=null,f=i,y=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T=!1,v=null,h=-1,P=5,O=-1;function N(){return!(t.unstable_now()-O<P)}function D(){if(null!==v){var e=t.unstable_now();O=e;var r=!0;try{r=v(!0,e)}finally{r?s():(T=!1,v=null)}}else T=!1}if("function"==typeof S)s=function(){S(D)};else if("undefined"!=typeof MessageChannel){var $=new MessageChannel,C=$.port2;$.port1.onmessage=D,s=function(){C.postMessage(null)}}else s=function(){R(D,0)};function B(e){v=e,T||(T=!0,s())}function F(e,r){h=R(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,B(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=i+a,e={id:p++,callback:o,priorityLevel:e,startTime:i,expirationTime:a,sortIndex:-1},i>s?(e.sortIndex=i,r(d,e),null===n(l)&&e===n(d)&&(m?(b(h),h=-1):m=!0,F(g,i-s))):(e.sortIndex=a,r(l,e),E||y||(E=!0,B(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},363840:(e,t,r)=>{e.exports=r(560053)},653250:(e,t,r)=>{/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(667294),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,l=n[1];return a(function(){o.value=r,o.getSnapshot=t,c(o)&&l({inst:o})},[e,r,t]),s(function(){return c(o)&&l({inst:o}),e(function(){c(o)&&l({inst:o})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},950139:(e,t,r)=>{/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(667294),o=r(61688),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=o.useSyncExternalStore,a=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var d=a(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var _=s(e,(d=c(function(){function e(e){if(!u){if(u=!0,s=e,e=n(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(s=e,a=r)}var s,a,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,o]))[0],d[1]);return u(function(){p.hasValue=!0,p.value=_},[_]),l(_),_}},61688:(e,t,r)=>{e.exports=r(653250)},552798:(e,t,r)=>{e.exports=r(950139)},105737:(e,t,r)=>{function n(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!i(e[n],t[n],r+1))return!1;return!0}function o(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!(n in t)||!i(e[n],t[n],r+1))return!1;return!0}function i(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let i=Object.prototype.toString.call(e),s=Object.prototype.toString.call(t);if(i!==s)return!1;switch(i){case"[object Array]":return n(e,t,r);case"[object Set]":return n(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return o(e,t,r);case"[object Map]":return o(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function s(e,t){return i(e,t,0)}r.d(t,{ZP:()=>s,qP:()=>n})},179370:(e,t,r)=>{r.d(t,{F:()=>p,M:()=>d});var n=r(667294),o=r(702664),i=r(14890),s=r(342513),a=r(25919),u=r(957753),c=r(785893);let{Provider:l,useHook:d}=(0,s.Z)("ExperienceContext");function p({children:e}){let[t,r]=(0,n.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let r={...e};return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:s,registerdAfterActionPlacements:d}=t,p=(0,o.useDispatch)(),_=(0,o.useSelector)(e=>e.experiences),f=(0,a.be)(),y=(0,a.Am)(),E=(0,a.Ig)(),m=(0,n.useMemo)(()=>{let e=(0,i.bindActionCreators)({completeExperience:f,dismissExperience:y,fetchAllExperiences:a.fO,fetchAllExperiencesMulti:u.NW,fetchExperienceForPlacements:a.pz,mountPlacement:a.N,triggerExperimentsForPlacement:a.kd,viewExperience:E},p);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),r({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{r({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{r({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[f,y,p,r,E]),R=(0,n.useMemo)(()=>({experiences:_,mountedPlacements:s,registerdAfterActionPlacements:d,...m}),[_,s,d,m]);return(0,c.jsx)(l,{value:R,children:e})}},321329:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(667294),o=r(179370),i=r(703404),s=r(5859);function a(e){let{mountedPlacements:t,completeExperience:r,dismissExperience:a,experiences:u,fetchAllExperiences:c,fetchAllExperiencesMulti:l,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:p,viewExperience:_}=(0,o.M)(),{isBot:f}=(0,s.B)(),y=e&&!f?(0,i.MQ)(u,t,e):null;return(0,n.useMemo)(()=>({completeExperience:r,dismissExperience:a,experienceForPlacement:y,fetchAllExperiences:c,fetchAllExperiencesMulti:l,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:p,viewExperience:_}),[r,a,y,c,l,d,p,_])}},996523:(e,t,r)=>{r.d(t,{Z:()=>function e(t,r,n=()=>void 0){let o=n(t,r);return void 0!==o?o:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,o,i)=>(t[i]=e(t[i],r[i],n),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,o)=>(t[o]=e(t[o],r[o],n),t),{...t}):r}})},466385:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t,r){let n=[...e],o=n.splice(t,1)[0];return n.splice(r,0,o),n}},638747:(e,t,r)=>{r.d(t,{UZ:()=>d,Z8:()=>p,my:()=>_,vL:()=>f});var n=r(667294);r(702664);var o=r(216167),i=r(342513),s=r(785893);function a(e,t,r){let n=[...t[e][r.payload.name]??[],r.payload.handler],o={...t};return o[e]={...t[e],[r.payload.name]:n},o}function u(e,t,r){if(!t[e][r.payload.name])return t;let n=t[e][r.payload.name].filter(e=>e!==r.payload.handler),o={...t};return o[e]={...t[e],[r.payload.name]:n},o}let{Provider:c,useHook:l}=(0,i.Z)("ResourceContext");function d({children:e,resourceCreator:t}){let[{listeners:r,moreListeners:i},l]=(0,n.useReducer)((e,t)=>{switch(t.type){case"addListener":return a("listeners",e,t);case"addMoreListener":return a("moreListeners",e,t);case"removeListener":return u("listeners",e,t);case"removeMoreListener":return u("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});o.Z.fetchCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:o,refresh:i,resourceSchema:s})=>{r[e]&&r[e].forEach(r=>r({isRefresh:i,normalizedResponse:o,options:t,schema:s,resource:e,response:n}))},o.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:n,refresh:o,resourceSchema:s})=>{i[e]&&i[e].forEach(i=>i({isRefresh:o,normalizedResponse:n,options:t,schema:s,resource:e,response:r}))};let d=(0,n.useMemo)(()=>({listenerDispatch:l,resourceCreator:t}),[t]);return(0,s.jsx)(c,{value:d,children:e})}function p(e,t){let{listenerDispatch:r}=l();(0,n.useEffect)(()=>(r({type:"addListener",payload:{name:e,handler:t}}),()=>{r({type:"removeListener",payload:{name:e,handler:t}})}))}function _(e,t){let{listenerDispatch:r}=l();(0,n.useEffect)(()=>(r({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{r({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function f(){return l().resourceCreator}},782005:(e,t,r)=>{r.d(t,{Hd:()=>c,_R:()=>a,gi:()=>i,lw:()=>n,oD:()=>o,wF:()=>u,zh:()=>s});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},o=e=>{let t=Object.values(n).find(t=>t===e);return t??void 0},i=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},s=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},a=e=>{switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},u=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},c=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},447479:(e,t,r)=>{r.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},414630:(e,t,r)=>{r.d(t,{Ht:()=>i,Tb:()=>o});var n=r(447479);function o({appliedProductFilters:e,autoCorrectionDisabled:t,filters:r,query:n,scope:o,selectedPinImgSig:i,user:s}){let a=[o,r,e,s,i,n].map(e=>e??"").join(":");return t?"auto-correction-disabled:"+a:a}function i(e){let{appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:o,bubbleId:i,domains:s,filters:a,guidedSearchQuery:u,firstPageSize:c,pageSize:l,priceMax:d,priceMin:p,query:_,rs:f,scope:y,selectedPinImgSig:E,topPinId:m,user:R}=e,b=function({appliedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:r=!1,bubbleId:o=null,domains:i=null,filters:s=null,firstPageSize:a=null,pageSize:u=null,priceMax:c=null,priceMin:l=null,query:d=null,rs:p=n.i.DIRECT_NAVIGATION,scope:_="pins",selectedPinImgSig:f=null,sourceId:y=null,topPinId:E=null,user:m}){return{applied_filters:e,appliedProductFilters:t,article:o,auto_correction_disabled:r,corpus:f?"personalize":null,customized_rerank_type:f?"manas_graph_sage_only_wand_rewrite":null,domains:i,filters:s,first_page_size:a,page_size:u,price_max:c,price_min:l,query_pin_sigs:f,query:d,redux_normalize_feed:!0,rs:p,scope:_,source_id:y,top_pin_id:E,user:m}}({appliedFilters:t,appliedProductFilters:r,autoCorrectionDisabled:!!o,bubbleId:i,domains:s,filters:a,firstPageSize:c,guidedSearchQuery:u,pageSize:l,priceMax:d,priceMin:p,query:_,rs:f,scope:y,selectedPinImgSig:E,topPinId:m,user:R});return{name:"BaseSearchResource",options:b}}},923024:(e,t,r)=>{r.d(t,{L:()=>u,r:()=>a});var n=r(525364),o=r(447479),i=r(782005);let s=["search_articles_story","search_for_you_upsell","search_story_separator","search_story_landing_page_header","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","guided_search_entry_points_story"];function a({query:e,rs:t,scope:r},s){let a=(0,n.BE)(),u=!a?.viewType&&!a?.viewParameter,c=(0,i.wF)(r);if(!u&&c){let{viewType:r,viewParameter:n}=a??{};s({event_type:c,view_type:r,view_parameter:n,aux_data:{query:e,rs:t||o.i.UNKNOWN}})}t===o.i.HASHTAG_CLOSEUP?s({event_type:101,component:13065,element:10273,view_type:142}):t===o.i.HASHTAG_PINREP&&s({event_type:101,component:0,element:10349,view_type:142})}let u=(e=[])=>{let t=!0;return e.reduce((e,r)=>(t&&r.story_type&&s.includes(r.story_type)&&r.display_options?.num_columns_requested===0?e.searchFullWidthStories.push(r):(t=!1,e.filteredResults.push(r)),e),{searchFullWidthStories:[],filteredResults:[]})}},670633:(e,t,r)=>{r.d(t,{J:()=>m,Z:()=>A});var n=r(466385),o=r(419821),i=r(414630),s=r(923024),a=r(945488),u=r(539426),c=r(949457),l=r(937310);let d=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>e?.url==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":e?.url==="/v3/users/me/interests/"?`recommended-interests:${e.data?.blend_type}`:"",AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${l.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},_={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:l.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:l.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?l.Z.AGGREGATED_COMMENT_REPLIES:l.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:l.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:l.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:l.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:l.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:l.Z.PROFILE_BOARDS,id:(0,a.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:r,filters:n,query_pin_sigs:o,query:a,user:u},response:c})=>({type:l.Z.SEARCH_PINS,id:(0,i.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:a,selectedPinImgSig:o,scope:r,user:u}),items:c.resource_response.data?.results?(0,s.L)(c.resource_response.data.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:l.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:l.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:l.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:l.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:l.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:l.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:l.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:l.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:l.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:l.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:l.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},f=(e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter(e=>!("pin"===e.type&&e.id===t))}:e,y=(e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e,E=(e,{pinId:t,oldFeedId:r,newFeedId:n})=>r===n?e:y(f(e,{pinId:t,feedId:r}),{pinId:t,feedId:n}),m=(e,t)=>e in p?p[e](t):null,R=(e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===l.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},b=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,S=(e,t,r)=>{let n=r||u.Z[e];if(n===c.LR)return t.result;if(n===c.sN)return t.result.map(e=>({id:e,schema:"board"}));if(n===c.Gn)return t.result.map(e=>({id:e,schema:"user"}));if(n===c.Ht)return t.result.map(e=>({id:e,schema:"invite"}));if(n===c.fE)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof n){let e=Object.entries(n).find(([,e])=>e===c.LR);if(e)return t.result[e[0]]}return null},I=(e,t)=>e.map(e=>{let{id:r,schema:n,type:o}=e;return"home_feed_tabs"===o?e:n?{id:r,type:n,trackingParams:"pin"===n?t.pins[r].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),g=(e,t,r)=>Object.keys(e).reduce((n,o)=>{let i=e[o]||[],s=i.filter(e=>!(e.type===t&&e.id===r));return i.length!==s.length&&(n[o]=s),n},{...e}),A=(e={},t)=>{switch(t.type){case o.zP:case o.aW:{let{payload:r}=t,{resource:n,options:i,normalizedResponse:s,schema:a}=r;if(s&&n in p){let r=S(n,s,a);if(r&&Array.isArray(r)){let a=p[n](i);if("ShoppingFeedModularizedResource"===n){let{board_id:t,saved_products_only:n}=i??{},o=`board-shop-related:${t}`,a=`board-shop-saved:${t}`,u=`board-shop-saved-preview:${t}`,c=[...e[o]||[]],l=[...e[a]||[]],d=[...e[u]||[]],p=I(r,s.entities);return p.forEach(e=>{n?l.push(e):s.entities.pins&&s.entities.pins[e.id]?.board===t?d.push(e):c.push(e)}),{...e,[o]:c,[a]:l,[u]:d}}if("BoardToolsFeedResource"===n||"SectionToolsFeedResource"===n)return{...e,[a]:r};if("UnifiedCommentsResource"===n){let n=I(r,s.entities);if(e[a]&&o.aW===t.type)return{...e,[a]:[...e[a],...n]};return{...e,[a]:n}}{let n=[...t.type===o.aW&&e[a]||[],...I(r,s.entities)];return{...e,[a]:n}}}}else{let{data:n}=r.response.resource_response;if(!r.options?.redux_normalize_feed)return e;let i=_[r.resource]({options:r.options,response:r.response});if(i){let{type:r,id:s,items:a,reversed:u}=i,c=(a||n||[]).map(e=>R(e,r));u&&(c=c.reverse());let l=`${r}:${s}`,d=e[l];if(d||t.type!==o.aW){let r=d||[],n=c;return t.type===o.aW&&(n=u?c.concat(r):r.concat(c)),{...e,[l]:n}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:r,feedId:o,itemType:i,targetItemId:s,sourceItemId:a}}=t,u=`${r}:${o}`,c=e[u]||[],d=-1,p=-1;if([l.Z.BOARDFEED,l.Z.BOARD_SECTION_PINS,l.Z.BOARD_SECTIONS,"profileBoards"].includes(r)&&(d=c.findIndex(e=>e.type===i&&e.id===a),p=c.findIndex(e=>e.type===i&&e.id===s)),-1!==d&&-1!==p)return{...e,[u]:(0,n.Z)(c,d,p)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:r,feedId:n,inverseSelection:o,itemType:i,itemIds:s=[]}}=t,a=`${r}:${n}`,u=e[a]||[];if(u&&u.length>0&&(r===l.Z.BOARD_SECTION_PINS||r===l.Z.BOARDFEED)){let t=u.filter(e=>{let t=s.includes(e.id),r=e.type===i&&(o&&!t||!o&&t);return!r}),r=!!t.find(e=>"pin"===e.type);return{...e,[a]:r?t:[]}}if(u&&u.length>0&&r===l.Z.BOARD_SECTIONS){let t=u.filter(e=>{let t=s.includes(e.id);return!(e.type===i&&t)});return{...e,[a]:t}}if(u&&u.length>0&&(r===l.Z.AGGREGATED_COMMENTS||r===l.Z.BOARDLESS_PINS||r===l.Z.PROFILE_PINS_FEED||r===l.Z.STORY_PINS_FEED||r===l.Z.UNIFIED_COMMENTS||r===l.Z.TRIED_IT_FEED||r===l.Z.STORY_PIN_DATA)){let t=u.filter(e=>{let t=s.includes(e.id);return!(e.type===i&&t)});return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:r,feedId:n,itemType:o,itemIds:i=[],prepend:s}}=t,a=`${r}:${n}`,u=e[a]||[];if(u&&(r===l.Z.BOARD_SECTION_PINS||r===l.Z.BOARDFEED||r===l.Z.BOARDLESS_PINS)){let t=i.map(e=>({id:e,type:o})),r=0;"story"===(u[0]||{}).type&&(r=1),"story"===(u[1]||{}).type&&(r=2);let n=[...u.slice(0,r),...t,...u.slice(r)];return{...e,[a]:n}}if(u&&r===l.Z.BOARD_SECTIONS){let t=[...i].reverse().map(e=>({id:e,type:"boardsection"})),r=u?[...t,...u]:[...t];return{...e,[a]:r}}if(r===l.Z.AGGREGATED_COMMENTS||r===l.Z.AGGREGATED_COMMENT_REPLIES||r===l.Z.PROFILE_PINS_FEED||r===l.Z.STORY_PINS_FEED||r===l.Z.UNIFIED_COMMENTS){let t=i.map(e=>({id:e,type:o})),r=u?[...s?t:u,...s?u:t]:t;return{...e,[a]:r}}if(r===l.Z.TRIED_IT_FEED){let t=i.map(e=>({id:e,type:o})),r=u?[...t,...u]:t;return{...e,[a]:r}}break}case"FEED_INVALIDATE":{let{payload:{feedType:r,feedId:n}}=t,o=`${r}:${n}`,i=e[o]||[];if(i)return{...e,[o]:null};break}case"APPEND_FEED_ITEMS":{let{payload:{id:r,items:n,options:o}}=t,i=e[r];if(!i)return{...e,[r]:n};{let t;return t=o.isPrepend?i[0]&&"story"===i[0].type?[].concat(i[0],n,i.slice(1)):n.concat(i):i.concat(n),{...e,[r]:t}}}case"PIN_DELETE":{let{payload:{pinId:r}}=t;return g(e,"pin",r)}case"BOARD_ARCHIVE":{let{payload:{boardId:r,username:n}}=t,o=`profile-boards:${n??""}`;if(e[o])return{...e,[o]:e[o].filter(e=>e.id!==r)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:r}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==r)};break}case"BOARD_DELETE":{let{payload:{boardId:r}}=t;return g(e,"board",r)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:r}}=t;return g(e,"boardsection",r)}case"PINS_MOVE":{let{payload:{source:r,target:n,pinIds:o,userId:i}}=t,s=r.boardlessPins&&i&&`boardless-pins:${i}`||r.boardId&&b(r.boardId,r.sectionId),a=b(n.boardId,n.sectionId);return o.reduce((e,t)=>E(e,{pinId:t,oldFeedId:s,newFeedId:a}),e)}case"PINS_MOVE_ALL":{let{payload:{source:r,target:n,excludePinIds:o}}=t,i=b(r.boardId,r.sectionId),s=b(n.boardId,n.sectionId),a={...e,[i]:o.map(e=>({type:"pin",id:e}))};return delete a[s],a}case"PIN_EDIT":{let{payload:{pinId:r,boardId:n,sectionId:o="",source:{boardId:i,sectionId:s}}}=t,a=b(i,s),u=b(n,o);return E(e,{pinId:r,oldFeedId:a,newFeedId:u})}case o.AF:if(d.has(t.payload.resource)){let r;let n=t.payload.response.resource_response.data,{board:o}=n;if("quick_saves"===o.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{let e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${o.id}`}if(e[r]){let t={...e},o={id:n.id,type:"pin",trackingParams:n?.tracking_params};return t[r]=[o].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let r=t.payload.normalizedResponse.result,n=t.payload.normalizedResponse.entities.boardsections[r].board,o=`board-sections:${n}`;if(e[o]){let t={...e};return t[o]=[{id:r,type:"boardsection"}].concat(e[o]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){let r=t.payload.normalizedResponse.result,n={id:r,type:"aggregatedcomment"},o={...e};for(let r of["aggregated-comments","unified-comments"]){let i=`${r}:${t.payload.options.objectId}`;e[i]&&(o={...o,[i]:[n].concat(o[i])})}return o}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){let r=`${l.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[r]:[...e[r]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){let{reaction_pin_id:r,reaction_type:n}=t.payload.options;if("reaction"===t.payload.options.action_type){let o=`reactions:${t.payload.options.pin_id}`,i={...e},s={id:`${r}:${t.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return i[o]=[s].concat(e[o]),i}if("unreaction"===t.payload.options.action_type){let n=`${r}:${t.payload.options.user_id}`;return g(e,"reaction",n)}}break;case"COMPLETE_STORY":{let{payload:{storyId:r}}=t;return g(e,"story",r)}}return e}},204942:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(383997);function o(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},601413:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(204942);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},383997:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(671002);function o(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=(0,n.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:String(t)}},671002:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/39364-cc64ca594bdf2971.mjs.map